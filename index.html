<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>

    <p>税額 <span id="tax_amount"></span></p>
    <p>変換後の値 <span id="total_amount"></span></p>

    <label>税率　　<input type="text" value="10" id="tax" maxlength="30" /></label>%
    <br>
    <label>変換値　<input type="text" value="" id="verification_value" maxlength="30" /></label>
    <br>
    <input type="button" value="税別 → 税込" onclick="tax_in()" />
    <input type="button" value="税込 → 税別" onclick="tax_out()" />
    



    <script>
        const get_value = () => {
            const  tax= document.getElementById("tax").value;
            const  verification_value= document.getElementById("verification_value").value;
            return [tax, verification_value];
        }

        function tax_in(){
            const source_value = get_value();
            const tax_amount = (source_value[0] / 100 * source_value[1]);
            const total_amount = (parseInt(tax_amount) + parseInt(source_value[1]));

            document.getElementById("tax_amount").textContent = tax_amount;
            document.getElementById("total_amount").textContent = total_amount;
            navigator.clipboard.writeText(total_amount);
        }


        function tax_out(){
            const source_value = get_value();
            const total_amount = ((source_value[0] / 100 + 1 ) /arguments source_value[1]);
            const tax_amount = (parseInt(source_value[1]) - parseInt(total_amount));

            document.getElementById("tax_amount").textContent = tax_amount;
            document.getElementById("total_amount").textContent = total_amount;
            navigator.clipboard.writeText(total_amount);
        }






    </script>
</body>
</html>